({386:function(){var e=this;this.changePort="",this.removeFolderModal=new coreui.Modal(document.getElementById("cropp-img-modal")),this.cropper=null,this.croppUrl=null,this.croppFileId=null,this.uploadCroppedImage=function(){e.cropper.getCroppedCanvas().toBlob((function(o){var t=new FormData;t.append("file",o),t.append("thisFolder",document.getElementById("this-folder-id").value),t.append("id",e.croppFileId),axios.post("/media/file/cropp",t).then((function(e){location.reload()})).catch((function(e){console.log(e)}))}))},this.afterShowedCroppModal=function(){if(null!==e.cropper)e.cropper.replace(e.croppUrl);else{var o=document.getElementById("cropp-img-img");e.cropper=new Cropper(o,{minContainerWidth:600,minContainerHeight:600})}},this.showCroppModal=function(o){e.croppUrl=o.url,e.croppUrl=e.croppUrl.replace("localhost","localhost"+e.changePort),document.getElementById("cropp-img-img").setAttribute("src",e.croppUrl),e.removeFolderModal.show()},this.croppImg=function(o){e.croppFileId=o.target.getAttribute("atr"),axios.get("/media/file?id="+e.croppFileId+"&thisFolder="+document.getElementById("this-folder-id").value).then((function(o){e.showCroppModal(o.data)})).catch((function(e){console.log(e)}))};for(var o=document.getElementsByClassName("file-cropp-file"),t=0;t<o.length;t++)o[t].addEventListener("click",this.croppImg);document.getElementById("cropp-img-modal").addEventListener("show.coreui.modal",this.afterShowedCroppModal),document.getElementById("cropp-img-save-button").addEventListener("click",this.uploadCroppedImage)}})[386]();